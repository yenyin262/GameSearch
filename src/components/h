import React from "react";
import SearchBar from "./SearchBar";

import axios from "axios";
import client_id from "../apis/secret";
axios.defaults.headers.common["Client-ID"] = client_id;

class App extends React.Component {
  onSearchSubmit = searchGames => {
    axios("https://api.twitch.tv/kraken/search/games", {
      headers: {
        "Client-ID": client_id,
        accept: "application/vnd.twitchtv.v5+json"
      },

      params: {
        query: searchGames
      }
    }).then(response => console.log(response.data.games, "response"));
  };

  // async componentDidMount() {
  //   let { info } = await axios.get(
  //     "https://api.twitch.tv/helix/streams?first=10"
  //   );
  //   console.log(info);
  // }

  render() {
    return (
      <div className="ui container">
        <SearchBar onFormSubmit={this.onSearchSubmit} />
      </div>
    );
  }
}

export default App;
